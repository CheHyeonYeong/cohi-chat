# coheChat - 1:1 미팅 예약 서비스

호스트-게스트 간 미팅 예약 웹 서비스 (Google Calendar 연동)

## 기술 스택

### Backend - `/backend`
- Spring Boot 3.5, Java 21
- Spring Data JPA, Spring Security
- SQLite, JWT (jjwt)
- Lombok, ModelMapper
- SpringDoc OpenAPI
- Google Calendar API

### Frontend - `/frontend`
- React 18, TypeScript
- Vite, TanStack Router/Query
- Tailwind CSS, PostCSS
- pnpm 패키지 매니저
- Vitest, Playwright (테스트)

## 개발 명령어

### Backend
```bash
cd backend
./gradlew build      # 빌드
./gradlew bootRun    # 실행 (port 8080)
./gradlew test       # 테스트
```

### Frontend
```bash
cd frontend
pnpm install    # 의존성 설치
pnpm dev        # 개발 서버 (port 3000)
pnpm build      # 프로덕션 빌드
pnpm test       # 테스트 (Vitest)
pnpm lint       # ESLint 검사
```

### Docker
```bash
docker-compose up -d    # 전체 서비스 실행
```

## 프로젝트 구조

```
coheChat/
├── .claude/
│   ├── commands/         # 커스텀 슬래시 커맨드
│   └── skills/           # 커스텀 스킬
├── backend/              # Spring Boot 백엔드 (Java 21)
├── frontend/             # React 프론트엔드
│   └── src/
│       ├── components/   # 재사용 컴포넌트
│       ├── features/     # 도메인별 기능 모듈 (member, calendar, host)
│       ├── pages/        # 페이지
│       ├── hooks/        # Custom Hooks
│       ├── routes/       # 라우트 정의
│       └── libs/         # 유틸리티
├── docs/                 # 문서
└── docker-compose.yml
```

### 커밋 규칙

**중요: 커밋 메시지에 Claude 관련 내용 절대 포함 금지**
- `Co-Authored-By: Claude` 금지
- `Generated by Claude` 금지
- AI/Claude가 작성했다는 어떤 표현도 금지

## 코딩 컨벤션

### Git 브랜치 전략
- `main` - 메인 브랜치
- `feature/*` - 기능 개발 브랜치 → PR로 머지

### 코드 리뷰 (Pn 룰)
| 우선순위 | 설명 |
|---------|------|
| P1 | 즉각 수정 필수 (비즈니스 로직 오류) |
| P2 | 반드시 반영 필요 (버그 가능성) |
| P3 | 중요한 개선사항 |
| P4 | 가벼운 제안 |
| P5 | 제안사항, 반영 선택 |

### Button 사용 규칙
- 표준 버튼은 반드시 `<Button>` 컴포넌트 사용 (`~/components/button`)
- 라우터 링크 + 버튼 스타일: `<LinkButton>` 사용 (`~/components/button/LinkButton`)
  - TanStack Router `Link`의 타입 안전성을 유지하면서 Button 스타일 적용
  - 예: `<LinkButton variant="primary" to="/path">텍스트</LinkButton>`
  - `<Link>` + `cohe-btn-*` 클래스 직접 조합 금지 → 반드시 `<LinkButton>` 사용
- 비동기 작업 중 버튼: `loading` prop 사용 (자동 disabled + CSS `:disabled` 스타일)
- `asChild` prop: Button을 다른 요소로 렌더링 (Radix Slot 패턴)
- raw `<button>` 허용: 아이콘 전용, 토글, 텍스트 링크 스타일, 특수 목적 버튼만
- `type` 기본값은 `"button"`. 폼 제출 시 `type="submit"` 명시 필수
- `className`은 정적 문자열만 전달 (Button 내부에서 `twMerge`로 충돌 해결)

### CSS 클래스 유틸리티
- `cn()` 함수 사용 (`~/libs/cn`) — `clsx` + `tailwind-merge` 조합
- 직접 `clsx`나 `twMerge` 사용 금지, 항상 `cn()`으로 통일

## 주의사항

### 환경 요구사항
- Java: 21
- Node.js: 18 이상

### 보안 - 커밋 금지 파일
- `.env` - 환경 변수
- `local.db` - SQLite 데이터베이스
- `*credentials*.json` - Google API 인증 정보

### 주요 API 엔드포인트
- API 문서: http://localhost:8080/swagger-ui.html

## 참고 링크

- [TanStack Router 문서](https://tanstack.com/router)
- [TanStack Query 문서](https://tanstack.com/query)
- [Spring Boot 문서](https://spring.io/projects/spring-boot)
